<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KiKi 首次聯名 - FUDGE Style Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=Noto+Sans+TC:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
      :root {
        --fudge-dark: #2D241E;
        --fudge-brown: #4E342E;
        --fudge-orange: #FF6D00;
        --fudge-white: #FDFCFB;
      }
      body {
        font-family: 'Montserrat', 'Noto Sans TC', sans-serif;
        background-color: var(--fudge-brown); /* 50% Brown Base */
        color: var(--fudge-dark);
        overflow-x: hidden;
      }
      .font-magazine-serif {
        font-family: 'Playfair Display', serif;
      }
      .font-magazine-sans {
        font-family: 'Montserrat', sans-serif;
      }
      .fudge-border-dark {
        border: 2px solid var(--fudge-dark);
      }
      .shadow-orange {
        box-shadow: 3px 3px 0px var(--fudge-dark);
      }
      .aspect-magazine {
        aspect-ratio: 9 / 16;
      }
      input, textarea, select {
        outline: none;
        border-radius: 0;
        appearance: none;
      }
      ::-webkit-scrollbar { width: 4px; }
      ::-webkit-scrollbar-track { background: var(--fudge-brown); }
      ::-webkit-scrollbar-thumb { background: var(--fudge-orange); }

      .animate-fade-in {
        animation: fadeIn 0.4s ease-out forwards;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .glass-card {
        background: rgba(253, 252, 251, 0.95);
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "@heroicons/react/": "https://esm.sh/@heroicons/react@^2.2.0/"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>

    <script type="module">
      import React, { useState, useEffect, useMemo } from 'https://esm.sh/react@^19.2.3';
      import ReactDOM from 'https://esm.sh/react-dom@^19.2.3/client';
      import { GoogleGenAI, Type } from 'https://esm.sh/@google/genai@^1.34.0';
      import { 
        PlusIcon, 
        ShoppingBagIcon, 
        ClockIcon,
        ChevronRightIcon,
        ChevronLeftIcon,
        XMarkIcon,
        CameraIcon,
        ArrowUpTrayIcon,
        ChartBarIcon,
        InformationCircleIcon,
        LinkIcon,
        ChatBubbleBottomCenterTextIcon,
        TrophyIcon,
        EnvelopeIcon,
        ClockIcon as ClockSolidIcon,
        ArrowTrendingUpIcon,
        TrashIcon,
        LockClosedIcon
      } from 'https://esm.sh/@heroicons/react@^2.2.0/24/outline';

      const DEFAULT_10_DAY_PLANS = [
        { id: '1', dayNumber: 1, date: '01/15', title: '聯名正式預告', strategy: '發布聯名主視覺，強調「首度合作」與「質感日常」。', storyGoal: 3, postGoal: 1, dailySales: 0, relatedProductId: '' },
        { id: '2', dayNumber: 2, date: '01/16', title: '全系列 Lookbook', strategy: '輪播展示所有款式、尺寸與顏色。', storyGoal: 5, postGoal: 1, dailySales: 0, relatedProductId: '' },
        { id: '3', dayNumber: 3, date: '01/17', title: 'KiKi 的穿搭教室 A', strategy: '針對上衣款式進行實穿教學，分享配色技巧。', storyGoal: 4, postGoal: 2, dailySales: 0, relatedProductId: '' },
        { id: '4', dayNumber: 4, date: '01/18', title: '細節與材質揭密', strategy: '微距拍攝布料與車工，展現高質感價值。', storyGoal: 3, postGoal: 1, dailySales: 0, relatedProductId: '' },
        { id: '5', dayNumber: 5, date: '01/19', title: 'QA 尺寸與版型', strategy: '回覆尺寸疑問，直播展示動態垂墜感。', storyGoal: 5, postGoal: 1, dailySales: 0, relatedProductId: '' },
        { id: '6', dayNumber: 6, date: '01/20', title: '開賣倒數 24H', strategy: '設定倒數貼紙，分享購買攻略（如免運）。', storyGoal: 5, postGoal: 3, dailySales: 0, relatedProductId: '' },
        { id: '7', dayNumber: 7, date: '01/21', title: '正式開賣 00:00', strategy: '轉發首批購買截圖，分享庫存吃緊訊息。', storyGoal: 5, postGoal: 5, dailySales: 0, relatedProductId: '' },
        { id: '8', dayNumber: 8, date: '01/22', title: '穿搭教室 B', strategy: '針對下身與配件做混搭示範，延續熱度。', storyGoal: 5, postGoal: 2, dailySales: 0, relatedProductId: '' },
        { id: '9', dayNumber: 9, date: '01/23', title: '最後現貨追蹤', strategy: '標示「剩餘少數」，營造完售絕版感。', storyGoal: 4, postGoal: 1, dailySales: 0, relatedProductId: '' },
        { id: '10', dayNumber: 10, date: '01/24', title: '完售感謝與回饋', strategy: '感謝大家支持，分享期待下回合作的心情。', storyGoal: 3, postGoal: 1, dailySales: 0, relatedProductId: '' }
      ];

      const INITIAL_PRODUCTS = [
        { id: '1', name: 'Oversized Poplin Shirt', colors: 'Off-White / Mocha / Navy', sizes: 'S, M, L', description: 'Premium Japanese poplin for casual elegant silhouette.', imageUrl: '', link: 'https://www.infolabtw.com/', sales: 0, category: 'Top' },
        { id: '2', name: 'Vintage Wool Blend Vest', colors: 'Camel / Charcoal / Ivory', sizes: 'F', description: 'Timeless layering piece with warm texture.', imageUrl: '', link: 'https://www.infolabtw.com/', sales: 0, category: 'Top' },
        { id: '3', name: 'Pleated Wide Trousers', colors: 'Brown / Sand / Black', sizes: 'S, M, L', description: 'Structured yet flowing wide-leg trousers.', imageUrl: '', link: 'https://www.infolabtw.com/', sales: 0, category: 'Bottom' },
      ];

      const GOAL_OPTIONS = [1, 2, 3, 4, 5];

      const App = () => {
        const [isAuthorized, setIsAuthorized] = useState(() => localStorage.getItem('kiki_auth') === 'true');
        const [passwordInput, setPasswordInput] = useState('');
        const [showError, setShowError] = useState(false);

        const [targetGoal, setTargetGoal] = useState(500000);
        const [activeTab, setActiveTab] = useState('plan');
        
        const [products, setProducts] = useState(() => {
          const saved = localStorage.getItem('kiki_bundle_v1_products');
          return saved ? JSON.parse(saved) : INITIAL_PRODUCTS;
        });
        const [plans, setPlans] = useState(() => {
          const saved = localStorage.getItem('kiki_bundle_v1_plans');
          return saved ? JSON.parse(saved) : DEFAULT_10_DAY_PLANS;
        });
        const [carouselImages, setCarouselImages] = useState(() => {
          const saved = localStorage.getItem('kiki_bundle_v1_carousel');
          return saved ? JSON.parse(saved) : [
            { id: '1', url: 'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?auto=format&fit=crop&q=80&w=800&h=1422' }
          ];
        });
        const [countdownDate, setCountdownDate] = useState(() => localStorage.getItem('kiki_bundle_v1_countdown') || '2026-01-15');
        const [activeCarouselIndex, setActiveCarouselIndex] = useState(0);

        useEffect(() => {
          if (isAuthorized) {
            localStorage.setItem('kiki_bundle_v1_products', JSON.stringify(products));
            localStorage.setItem('kiki_bundle_v1_plans', JSON.stringify(plans));
            localStorage.setItem('kiki_bundle_v1_carousel', JSON.stringify(carouselImages));
            localStorage.setItem('kiki_bundle_v1_countdown', countdownDate);
          }
        }, [products, plans, carouselImages, countdownDate, isAuthorized]);

        const handleLogin = (e) => {
          e.preventDefault();
          if (passwordInput === 'KIKI100') {
            setIsAuthorized(true);
            localStorage.setItem('kiki_auth', 'true');
            setShowError(false);
          } else {
            setShowError(true);
            setPasswordInput('');
          }
        };

        const currentTotalSales = useMemo(() => {
          return plans.reduce((acc, plan) => acc + (plan.dailySales || 0), 0);
        }, [plans]);

        const progressPercentage = Math.min(100, (currentTotalSales / targetGoal) * 100);

        const handleImageUpload = (event, type, id) => {
          const file = event.target.files?.[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
              const base64 = e.target?.result;
              if (type === 'carousel') {
                setCarouselImages(prev => {
                  const next = [...prev];
                  next[activeCarouselIndex] = { ...next[activeCarouselIndex], url: base64 };
                  return next;
                });
              } else if (type === 'product' && id) {
                setProducts(prev => prev.map(p => p.id === id ? { ...p, imageUrl: base64 } : p));
              } else if (type === 'daily' && id) {
                setPlans(prev => prev.map(p => p.id === id ? { ...p, dailyImageUrl: base64 } : p));
              }
            };
            reader.readAsDataURL(file);
          }
        };

        const updateProduct = (id, field, value) => {
          setProducts(products.map(p => p.id === id ? { ...p, [field]: value } : p));
        };

        const updatePlan = (id, field, value) => {
          setPlans(plans.map(p => p.id === id ? { ...p, [field]: value } : p));
        };

        const removeCarouselImage = (index) => {
          if (carouselImages.length <= 1) return;
          const next = carouselImages.filter((_, i) => i !== index);
          setCarouselImages(next);
          setActiveCarouselIndex(Math.max(0, index - 1));
        };

        // Render Password Screen
        if (!isAuthorized) {
          return React.createElement('div', { className: "max-w-md mx-auto min-h-screen bg-[#4E342E] flex items-center justify-center p-8 border-x-4 border-[#2D241E] shadow-2xl" }, [
            React.createElement('div', { key: 'login-card', className: "w-full bg-[#FDFCFB] fudge-border-dark p-10 shadow-orange text-center animate-fade-in" }, [
              React.createElement(LockClosedIcon, { key: 'icon', className: "w-12 h-12 mx-auto mb-6 text-[#FF6D00]" }),
              React.createElement('h2', { key: 'title', className: "text-3xl font-magazine-serif font-black italic text-[#2D241E] uppercase mb-2" }, "Members Only"),
              React.createElement('p', { key: 'subtitle', className: "text-[10px] font-magazine-sans font-black uppercase tracking-[0.3em] text-[#4E342E]/50 mb-10" }, "Please Enter Passcode"),
              React.createElement('form', { key: 'form', onSubmit: handleLogin, className: "space-y-6" }, [
                React.createElement('div', { key: 'input-group' }, [
                  React.createElement('input', { 
                    type: "password", 
                    value: passwordInput, 
                    onChange: (e) => setPasswordInput(e.target.value),
                    placeholder: "••••••••",
                    className: "w-full bg-[#FDFCFB] fudge-border-dark px-4 py-4 text-center text-xl font-black focus:ring-2 focus:ring-[#FF6D00] transition-all placeholder:text-stone-200" + (showError ? ' border-red-500' : ''),
                    autoFocus: true
                  }),
                  showError && React.createElement('p', { key: 'err', className: "text-[10px] text-red-500 font-bold mt-2 uppercase tracking-widest" }, "Incorrect Password")
                ]),
                React.createElement('button', { 
                  type: "submit",
                  className: "w-full bg-[#2D241E] text-white font-magazine-sans font-black uppercase tracking-[0.2em] py-4 shadow-orange active:translate-y-1 transition-all"
                }, "Access Gallery")
              ]),
              React.createElement('p', { key: 'copy', className: "text-[9px] italic font-magazine-serif text-[#4E342E]/30 mt-12 uppercase tracking-widest" }, "Editorial Collaboration Vol.01")
            ])
          ]);
        }

        // Main App
        return React.createElement('div', { className: "max-w-md mx-auto min-h-screen bg-[#4E342E] pb-48 border-x-4 border-[#2D241E] overflow-x-hidden relative shadow-2xl" }, [
          /* Header - 40% White Area */
          React.createElement('header', { key: 'header', className: "px-6 pt-16 pb-12 text-center bg-[#FDFCFB] border-b-4 border-[#2D241E]" }, [
            React.createElement('div', { key: 'tag', className: "flex justify-center mb-4" }, 
              React.createElement('span', { className: "text-[10px] font-magazine-sans font-black tracking-[0.5em] bg-[#FF6D00] text-white px-4 py-1.5 uppercase italic" }, "INFOLAB PROJECT.")
            ),
            React.createElement('h1', { key: 'title', className: "text-[44px] font-magazine-serif font-black tracking-tighter text-[#2D241E] leading-none flex flex-col uppercase" }, [
              "KIKI FIRST ", 
              React.createElement('span', { key: 'collab', className: "italic font-normal text-4xl mt-1 text-[#FF6D00]" }, "Collaboration")
            ]),
            React.createElement('div', { key: 'est', className: "mt-10 flex items-center justify-center gap-4" }, [
              React.createElement('div', { key: 'l', className: "h-[2px] w-6 bg-[#4E342E]" }),
              React.createElement('p', { key: 'p', className: "text-[11px] font-magazine-sans font-black text-[#4E342E] uppercase tracking-widest" }, `Est. ${countdownDate.replace(/-/g, '/')}`),
              React.createElement('div', { key: 'r', className: "h-[2px] w-6 bg-[#4E342E]" })
            ])
          ]),

          /* Main Content Area */
          React.createElement('main', { key: 'main', className: "px-6" }, [
            /* Plan Tab */
            activeTab === 'plan' && React.createElement('div', { key: 'plan-tab', className: "mt-12 animate-fade-in" }, [
              React.createElement('section', { key: 'hero', className: "relative aspect-magazine bg-[#FDFCFB] fudge-border-dark p-2 group shadow-orange mb-16" }, [
                React.createElement('div', { key: 'frame', className: "w-full h-full overflow-hidden relative bg-stone-100 flex items-center justify-center" }, [
                  carouselImages[activeCarouselIndex]?.url ? 
                    React.createElement('img', { src: carouselImages[activeCarouselIndex].url, className: "w-full h-full object-cover" }) : 
                    React.createElement('div', { className: "text-center text-stone-400" }, [
                      React.createElement(CameraIcon, { className: "w-10 h-10 mx-auto mb-2 opacity-20" }),
                      React.createElement('p', { className: "text-[10px] uppercase font-magazine-sans font-black tracking-widest" }, "Upload Frame")
                    ]),
                  React.createElement('div', { key: 'controls', className: "absolute bottom-4 right-4 flex flex-col gap-2" }, [
                    React.createElement('label', { key: 'cam', className: "cursor-pointer bg-[#FF6D00] text-white p-2 fudge-border-dark shadow-orange active:translate-y-0.5 transition-transform" }, [
                      React.createElement(CameraIcon, { className: "w-5 h-5" }),
                      React.createElement('input', { type: "file", className: "hidden", accept: "image/*", onChange: (e) => handleImageUpload(e, 'carousel') })
                    ]),
                    React.createElement('button', { key: 'add', onClick: () => setCarouselImages([...carouselImages, { id: Date.now().toString(), url: '' }]), className: "bg-[#FDFCFB] text-[#4E342E] p-2 fudge-border-dark shadow-orange active:translate-y-0.5 transition-transform" }, 
                      React.createElement(PlusIcon, { className: "w-5 h-5" })
                    ),
                    carouselImages.length > 1 && React.createElement('button', { key: 'del', onClick: () => removeCarouselImage(activeCarouselIndex), className: "bg-red-500 text-white p-2 fudge-border-dark shadow-orange active:translate-y-0.5 transition-transform" }, 
                      React.createElement(TrashIcon, { className: "w-5 h-5" })
                    )
                  ]),
                  React.createElement('div', { key: 'vol', className: "absolute top-4 left-4 bg-[#2D241E] text-white px-3 py-1 text-[9px] font-magazine-sans font-black italic shadow-orange" }, 
                    `VOL. ${activeCarouselIndex + 1}`
                  )
                ]),
                React.createElement('button', { key: 'prev', onClick: () => setActiveCarouselIndex(prev => (prev === 0 ? carouselImages.length - 1 : prev - 1)), className: "absolute top-1/2 left-0 -translate-x-1/2 bg-[#2D241E] text-white p-2.5 rounded-full shadow-lg z-20" }, React.createElement(ChevronLeftIcon, { className: "w-5 h-5" })),
                React.createElement('button', { key: 'next', onClick: () => setActiveCarouselIndex(prev => (prev === carouselImages.length - 1 ? 0 : prev + 1)), className: "absolute top-1/2 right-0 translate-x-1/2 bg-[#2D241E] text-white p-2.5 rounded-full shadow-lg z-20" }, React.createElement(ChevronRightIcon, { className: "w-5 h-5" }))
              ]),
              React.createElement('div', { key: 'strat-header', className: "flex justify-between items-end mb-10 border-b-2 border-[#FF6D00] pb-4" }, [
                React.createElement('h2', { className: "text-3xl font-magazine-serif font-black italic text-[#FDFCFB] uppercase tracking-tighter" }, [
                  "Strategic ", React.createElement('span', { className: "text-[#FF6D00]" }, "Planner")
                ]),
                React.createElement('input', { type: "date", className: "text-[10px] font-black p-1 bg-white text-[#FF6D00] fudge-border-dark", value: countdownDate, onChange: (e) => setCountdownDate(e.target.value) })
              ]),
              React.createElement('div', { key: 'strat-list', className: "space-y-10 relative pb-20" }, [
                React.createElement('div', { className: "absolute left-[20px] top-0 bottom-0 w-[2px] bg-[#FDFCFB] opacity-10" }),
                plans.map(plan => React.createElement('div', { key: plan.id, className: "relative pl-12" }, [
                  React.createElement('div', { className: "absolute left-0 top-0 w-9 h-9 fudge-border-dark bg-[#FF6D00] text-white flex flex-col items-center justify-center z-10 shadow-orange" }, [
                    React.createElement('span', { className: "text-[7px] font-magazine-sans font-black leading-none uppercase" }, "Day"),
                    React.createElement('span', { className: "text-base font-magazine-serif font-black leading-none" }, plan.dayNumber)
                  ]),
                  React.createElement('div', { className: "bg-[#FDFCFB] p-6 fudge-border-dark relative shadow-orange" }, [
                    React.createElement('div', { className: "flex justify-between items-center mb-4 border-b border-stone-100 pb-2" }, [
                      React.createElement('input', { className: "w-2/3 text-base font-magazine-serif font-black text-[#2D241E] bg-transparent border-none p-0 italic focus:ring-0", value: plan.title, onChange: (e) => updatePlan(plan.id, 'title', e.target.value) }),
                      React.createElement('span', { className: "text-[9px] font-magazine-sans font-bold text-[#4E342E]/40" }, plan.date)
                    ]),
                    React.createElement('textarea', { className: "w-full text-[12px] text-stone-500 bg-stone-50/50 border-none p-4 h-24 focus:ring-0 font-medium resize-none leading-relaxed italic", value: plan.strategy, onChange: (e) => updatePlan(plan.id, 'strategy', e.target.value) }),
                    React.createElement('div', { className: "grid grid-cols-2 gap-4 mt-6 pt-4 border-t border-stone-100" }, [
                      React.createElement('div', { className: "flex flex-col gap-1" }, [
                        React.createElement('span', { className: "text-[8px] font-magazine-sans font-black uppercase tracking-widest text-[#4E342E]/40" }, "IG Stories"),
                        React.createElement('select', { value: plan.storyGoal, onChange: (e) => updatePlan(plan.id, 'storyGoal', Number(e.target.value)), className: "bg-white fudge-border-dark border-[#FF6D00] text-[10px] font-magazine-sans font-black px-2 py-1.5 text-[#FF6D00]" }, GOAL_OPTIONS.map(opt => React.createElement('option', { key: opt, value: opt }, `${opt} STORIES`)))
                      ]),
                      React.createElement('div', { className: "flex flex-col gap-1" }, [
                        React.createElement('span', { className: "text-[8px] font-magazine-sans font-black uppercase tracking-widest text-[#4E342E]/40" }, "IG Post"),
                        React.createElement('select', { value: plan.postGoal || 1, onChange: (e) => updatePlan(plan.id, 'postGoal', Number(e.target.value)), className: "bg-white fudge-border-dark border-[#FF6D00] text-[10px] font-magazine-sans font-black px-2 py-1.5 text-[#FF6D00]" }, GOAL_OPTIONS.map(opt => React.createElement('option', { key: opt, value: opt }, `${opt} POSTS`)))
                      ])
                    ])
                  ])
                ]))
              ])
            ]),

            /* Notice Tab */
            activeTab === 'notice' && React.createElement('div', { key: 'notice-tab', className: "mt-12 animate-fade-in" }, [
              React.createElement('section', { key: 'guide', className: "p-8 bg-[#FDFCFB] border-4 border-[#2D241E] shadow-orange relative mb-12" }, [
                React.createElement('div', { className: "absolute -top-4 left-6 bg-[#FF6D00] text-white px-3 py-1 text-[9px] font-magazine-sans font-black uppercase tracking-widest" }, "購物指南"),
                React.createElement('h3', { className: "text-2xl font-magazine-serif font-black italic border-b-2 border-[#FF6D00] inline-block mb-8 text-[#4E342E] uppercase" }, "重要資訊"),
                React.createElement('div', { className: "space-y-8 text-[12px] font-bold text-[#4E342E] leading-relaxed" }, [
                  React.createElement('div', null, [
                    React.createElement('p', { className: "text-[#FF6D00] font-black mb-1 font-magazine-sans" }, "【 訂購流程 】"),
                    React.createElement('p', { className: "pl-4 border-l-2 border-[#2D241E]/10" }, "官網下單 → 選擇付款方式 → 系統確認入帳後即完成訂購。所有商品採限量現貨制，售完即止。")
                  ]),
                  React.createElement('div', null, [
                    React.createElement('p', { className: "text-[#FF6D00] font-black mb-1 font-magazine-sans" }, "【 付款方式 】"),
                    React.createElement('ul', { className: "pl-4 border-l-2 border-[#2D241E]/10 list-disc list-inside" }, [
                      React.createElement('li', null, "線上信用卡支付"), React.createElement('li', null, "銀行轉帳匯款"), React.createElement('li', null, "超商取貨付款")
                    ])
                  ]),
                  React.createElement('div', null, [
                    React.createElement('p', { className: "text-[#FF6D00] font-black mb-1 font-magazine-sans" }, "【 配送與運費 】"),
                    React.createElement('p', { className: "pl-4 border-l-2 border-[#2D241E]/10" }, "宅配 $80 / 超商 $65。全館單筆滿 $2,500 享免運優惠。")
                  ])
                ])
              ]),
              React.createElement('section', { key: 'contact', className: "p-8 bg-[#2D241E] border-4 border-[#FF6D00] shadow-orange relative mb-24 text-white" }, [
                React.createElement('h3', { className: "text-2xl font-magazine-serif font-black italic border-b-2 border-[#FF6D00] inline-block mb-10 uppercase" }, "客服與聯絡"),
                React.createElement('div', { className: "space-y-6" }, [
                  React.createElement('div', { className: "flex items-start gap-4 p-5 bg-white/5 border border-white/10" }, [
                    React.createElement(EnvelopeIcon, { className: "w-5 h-5 text-[#FF6D00] shrink-0" }),
                    React.createElement('div', null, [
                      React.createElement('p', { className: "font-magazine-sans font-black uppercase tracking-widest text-[10px] mb-1" }, "電子郵件支援"),
                      React.createElement('p', { className: "text-white/40 font-medium text-[11px]" }, "service@infolabtw.com")
                    ])
                  ]),
                  React.createElement('div', { className: "flex items-start gap-4 p-5 bg-white/5 border border-white/10" }, [
                    React.createElement(ClockSolidIcon, { className: "w-5 h-5 text-[#FF6D00] shrink-0" }),
                    React.createElement('div', null, [
                      React.createElement('p', { className: "font-magazine-sans font-black uppercase tracking-widest text-[10px] mb-1" }, "服務時間"),
                      React.createElement('p', { className: "text-white/40 font-medium text-[11px]" }, "週一至週五: 10:00 - 18:00")
                    ])
                  ])
                ])
              ])
            ]),

            /* Catalog Tab */
            activeTab === 'items' && React.createElement('div', { key: 'items-tab', className: "mt-12 animate-fade-in" }, [
              React.createElement('div', { key: 'items-header', className: "flex justify-between items-baseline mb-12 border-b-2 border-[#FF6D00] pb-4" }, [
                React.createElement('h2', { className: "text-4xl font-magazine-serif font-black italic text-[#FDFCFB] uppercase tracking-tighter" }, "Collection"),
                React.createElement('button', { onClick: () => setProducts([...products, { id: Date.now().toString(), name: 'NEW STYLE', colors: 'Neutral', sizes: 'F', description: 'Description...', imageUrl: '', link: 'https://www.infolabtw.com/', sales: 0, category: 'Top' }]), className: "w-12 h-12 bg-[#FF6D00] text-white flex items-center justify-center shadow-orange fudge-border-dark active:translate-y-0.5" }, React.createElement(PlusIcon, { className: "w-6 h-6" }))
              ]),
              React.createElement('div', { key: 'items-grid', className: "grid grid-cols-2 gap-x-6 gap-y-12 mb-24" }, products.map(product => React.createElement('div', { key: product.id, className: "group relative" }, [
                React.createElement('div', { className: "absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1" }, [
                  React.createElement('label', { className: "w-7 h-7 bg-white fudge-border-dark flex items-center justify-center cursor-pointer shadow-orange" }, [
                    React.createElement(CameraIcon, { className: "w-3.5 h-3.5" }),
                    React.createElement('input', { type: "file", className: "hidden", accept: "image/*", onChange: (e) => handleImageUpload(e, 'product', product.id) })
                  ]),
                  React.createElement('button', { onClick: () => setProducts(products.filter(p => p.id !== product.id)), className: "w-7 h-7 bg-red-500 text-white flex items-center justify-center shadow-orange fudge-border-dark" }, React.createElement(XMarkIcon, { className: "w-3.5 h-3.5" }))
                ]),
                React.createElement('div', { className: "aspect-magazine bg-[#FDFCFB] fudge-border-dark overflow-hidden mb-4 p-1.5 shadow-orange flex items-center justify-center" }, 
                  product.imageUrl ? React.createElement('img', { src: product.imageUrl, className: "w-full h-full object-cover" }) : React.createElement('p', { className: "text-[9px] font-magazine-sans font-black opacity-20 uppercase tracking-widest text-center" }, "Style Frame")
                ),
                React.createElement('div', { className: "px-1 border-l-4 border-[#FF6D00]" }, [
                  React.createElement('input', { className: "block w-full text-[12px] font-magazine-sans font-black text-[#FDFCFB] bg-transparent border-none p-0 mb-1 focus:ring-0 uppercase italic tracking-tight", value: product.name, onChange: (e) => updateProduct(product.id, 'name', e.target.value) }),
                  React.createElement('div', { className: "flex justify-between items-center text-[8px] font-magazine-sans font-black mb-0.5" }, [
                    React.createElement('span', { className: "text-[#FF6D00] uppercase tracking-tighter" }, "COLOUR"),
                    React.createElement('input', { className: "w-2/3 text-right bg-transparent border-none p-0 text-[#FDFCFB]/60 font-black uppercase focus:ring-0", value: product.colors, onChange: (e) => updateProduct(product.id, 'colors', e.target.value) })
                  ]),
                  React.createElement('textarea', { className: "w-full text-[9px] text-white/30 bg-transparent border-none p-0 focus:ring-0 leading-relaxed italic resize-none", value: product.description, onChange: (e) => updateProduct(product.id, 'description', e.target.value) })
                ])
              ])))
            ]),

            /* Target Tab */
            activeTab === 'target' && React.createElement('div', { key: 'target-tab', className: "mt-12 animate-fade-in" }, [
              React.createElement('section', { key: 'metrics-sec', className: "bg-[#2D241E] border-4 border-[#FF6D00] p-8 shadow-orange relative mb-24" }, [
                React.createElement('div', { className: "absolute -top-4 left-6 bg-[#FF6D00] text-white px-4 py-1 text-[10px] font-magazine-sans font-black uppercase tracking-[0.2em] shadow-orange" }, "METRICS"),
                React.createElement('h3', { className: "text-2xl font-magazine-serif font-black italic border-b-2 border-white/10 inline-block mb-10 text-[#FDFCFB] uppercase tracking-tighter" }, "REVENUE TRACKER"),
                
                React.createElement('div', { key: 'sum', className: "mb-14" }, [
                  React.createElement('div', { className: "flex justify-between items-end mb-4" }, [
                    React.createElement('span', { className: "text-[12px] font-magazine-sans font-black text-white/40 tracking-widest uppercase" }, "ACHIEVEMENT"),
                    React.createElement('span', { className: "text-5xl font-magazine-serif font-black text-[#FF6D00]" }, `${progressPercentage.toFixed(0)}%`)
                  ]),
                  React.createElement('div', { className: "h-2 w-full bg-white/5 mb-8" }, React.createElement('div', { className: "h-full bg-[#FF6D00] transition-all duration-1000", style: { width: `${progressPercentage}%` } })),
                  React.createElement('div', { className: "grid grid-cols-2 gap-4" }, [
                    React.createElement('div', { className: "bg-white/5 p-4 border border-white/5" }, [
                      React.createElement('p', { className: "text-[8px] font-magazine-sans font-black text-[#FF6D00] uppercase mb-2 tracking-[0.2em]" }, "TARGET"),
                      React.createElement('input', { type: "number", value: targetGoal, onChange: (e) => setTargetGoal(Number(e.target.value)), className: "w-full bg-transparent border-none p-0 text-xl font-black font-magazine-serif text-white focus:ring-0" })
                    ]),
                    React.createElement('div', { className: "bg-[#FF6D00] p-4 border border-[#2D241E] shadow-orange" }, [
                      React.createElement('p', { className: "text-[8px] font-magazine-sans font-black text-[#2D241E] uppercase mb-2 tracking-[0.2em]" }, "REVENUE"),
                      React.createElement('p', { className: "text-xl font-black font-magazine-serif text-white" }, currentTotalSales.toLocaleString())
                    ])
                  ])
                ]),

                React.createElement('div', { key: 'daily-rep', className: "mb-14 pt-8 border-t border-white/5" }, [
                  React.createElement('h4', { className: "text-xl font-magazine-serif font-black italic uppercase tracking-tighter text-white mb-8" }, "DAILY REPORT"),
                  React.createElement('div', { className: "space-y-4" }, plans.map(p => React.createElement('div', { key: p.id, className: "relative group bg-white/5 border border-white/5 p-3 flex gap-4 items-center" }, [
                    React.createElement('div', { className: "relative w-12 h-12 bg-[#FDFCFB] fudge-border-dark shrink-0 flex items-center justify-center overflow-hidden" }, [
                      p.dailyImageUrl ? React.createElement('img', { src: p.dailyImageUrl, className: "w-full h-full object-cover" }) : React.createElement(CameraIcon, { className: "w-4 h-4 opacity-10 text-[#2D241E]" }),
                      React.createElement('label', { className: "absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity" }, [
                        React.createElement(PlusIcon, { className: "w-4 h-4 text-white" }),
                        React.createElement('input', { type: "file", className: "hidden", accept: "image/*", onChange: (e) => handleImageUpload(e, 'daily', p.id) })
                      ])
                    ]),
                    React.createElement('div', { className: "flex-1" }, [
                      React.createElement('div', { className: "flex justify-between items-baseline" }, [
                        React.createElement('p', { className: "text-[9px] font-magazine-sans font-black text-white/40 uppercase italic" }, `Day ${p.dayNumber}`),
                        React.createElement('span', { className: "text-[8px] text-white/20" }, p.date)
                      ]),
                      React.createElement('input', { type: "number", className: "w-full bg-transparent border-b border-[#FF6D00]/30 text-base font-magazine-serif font-black text-[#FF6D00] focus:ring-0 py-1", placeholder: "0", value: p.dailySales, onChange: (e) => updatePlan(p.id, 'dailySales', Number(e.target.value)) })
                    ])
                  ])))
                ]),

                React.createElement('div', { key: 'top3', className: "pt-8 border-t border-white/5" }, [
                  React.createElement('h4', { className: "text-xl font-magazine-serif font-black italic uppercase tracking-tighter text-white mb-10" }, "BEST SELLERS TOP 3"),
                  React.createElement('div', { className: "space-y-4" }, [0, 1, 2].map(idx => {
                    const p = products[idx] || products[0];
                    return React.createElement('div', { key: idx, className: "relative bg-white/5 border border-white/5 p-4 group" }, [
                      React.createElement('div', { className: "flex gap-4" }, [
                        React.createElement('div', { className: "relative w-16 h-20 bg-[#FDFCFB] fudge-border-dark shrink-0 overflow-hidden" }, [
                          p?.imageUrl && React.createElement('img', { src: p.imageUrl, className: "w-full h-full object-cover" })
                        ]),
                        React.createElement('div', { className: "flex-1" }, [
                          React.createElement('span', { className: "text-xl font-magazine-serif font-black text-[#FF6D00] italic" }, `NO.${idx+1}`),
                          React.createElement('input', { className: "block w-full text-[12px] font-magazine-sans font-black bg-transparent border-none p-0 mb-1 focus:ring-0 uppercase text-white", value: p?.name || '', onChange: (e) => p && updateProduct(p.id, 'name', e.target.value) }),
                          React.createElement('div', { className: "flex items-center gap-1.5" }, [
                            React.createElement(LinkIcon, { className: "w-3 h-3 text-[#FF6D00]" }),
                            React.createElement('input', { className: "flex-1 bg-transparent border-none p-0 text-[8px] focus:ring-0 text-white/30 italic", value: p?.link || '', onChange: (e) => p && updateProduct(p.id, 'link', e.target.value) })
                          ])
                        ])
                      ])
                    ]);
                  }))
                ])
              ])
            ])
          ]),

          /* Footer */
          React.createElement('footer', { key: 'footer', className: "mt-20 px-8 text-center pb-24" }, [
            React.createElement('div', { className: "bg-[#2D241E] p-10 border-4 border-[#FF6D00] shadow-orange" }, [
              React.createElement('p', { className: "text-[10px] font-magazine-sans font-black text-white/30 mb-8 uppercase tracking-[0.3em] italic" }, [
                "INFOLAB x KIKI COLLAB 2026", React.createElement('br'), "PERFORMANCE TRACKER"
              ]),
              React.createElement('a', { href: "https://www.infolabtw.com", target: "_blank", className: "inline-flex items-center gap-2.5 bg-[#FF6D00] text-white px-8 py-3.5 shadow-orange fudge-border-dark font-magazine-sans font-black uppercase tracking-[0.1em] text-[11px] active:translate-y-1 transition-all" }, [
                React.createElement(ChatBubbleBottomCenterTextIcon, { className: "w-4 h-4" }), "BRAND CONNECT"
              ])
            ]),
            React.createElement('p', { key: 'logout', onClick: () => { localStorage.removeItem('kiki_auth'); window.location.reload(); }, className: "text-[9px] italic font-magazine-serif text-white/20 mt-12 uppercase tracking-widest cursor-pointer hover:text-white/40 transition-colors" }, "Editorial Vol. 01 / Click to Sign Out")
          ]),

          /* Floating Navigation - Reduced Size & Optimized Colors */
          React.createElement('nav', { key: 'nav', className: "fixed bottom-6 left-1/2 -translate-x-1/2 w-[88%] max-w-[360px] bg-[#2D241E] border-[3px] border-[#FF6D00] shadow-orange flex justify-around items-center py-3.5 z-[100]" }, [
            React.createElement('button', { key: 'n-plan', onClick: () => setActiveTab('plan'), className: "flex flex-col items-center transition-all " + (activeTab === 'plan' ? 'text-[#FF6D00]' : 'text-white/30') }, [
              React.createElement(ClockIcon, { className: "w-5 h-5 mb-1" }),
              React.createElement('span', { className: "text-[8px] font-magazine-sans font-black uppercase tracking-widest" }, "Plan")
            ]),
            React.createElement('button', { key: 'n-info', onClick: () => setActiveTab('notice'), className: "flex flex-col items-center transition-all " + (activeTab === 'notice' ? 'text-[#FF6D00]' : 'text-white/30') }, [
              React.createElement(InformationCircleIcon, { className: "w-5 h-5 mb-1" }),
              React.createElement('span', { className: "text-[8px] font-magazine-sans font-black uppercase tracking-widest" }, "Info")
            ]),
            React.createElement('button', { key: 'n-target', onClick: () => setActiveTab('target'), className: "flex flex-col items-center -mt-12 scale-110" }, [
              React.createElement('div', { className: "bg-[#FF6D00] p-3.5 fudge-border-dark border-white shadow-orange active:scale-95 transition-all" }, 
                React.createElement(ChartBarIcon, { className: "w-7 h-7 text-white" })
              ),
              React.createElement('span', { className: "text-[8px] font-magazine-sans font-black uppercase mt-2 text-[#FF6D00] tracking-widest" }, "Target")
            ]),
            React.createElement('button', { key: 'n-items', onClick: () => setActiveTab('items'), className: "flex flex-col items-center transition-all " + (activeTab === 'items' ? 'text-[#FF6D00]' : 'text-white/30') }, [
              React.createElement(ShoppingBagIcon, { className: "w-5 h-5 mb-1" }),
              React.createElement('span', { className: "text-[8px] font-magazine-sans font-black uppercase tracking-widest" }, "Catalog")
            ])
          ])
        ]);
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(React.createElement(React.StrictMode, null, React.createElement(App)));
    </script>
  </body>
</html>